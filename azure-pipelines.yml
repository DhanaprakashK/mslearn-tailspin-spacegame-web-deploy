trigger:
- '*'

pool:
  vmImage: 'ubuntu-18.04'
  demands:
  - npm

variables:
  buildConfiguration: 'Release'
  wwwrootDir: 'Tailspin.SpaceGame.Web/wwwroot'
  dotnetSdkVersion: '3.1.300'

steps:
- task: UseDotNet@2
  displayName: 'Use .NET Core SDK $(dotnetSdkVersion)'
  inputs:
    version: '$(dotnetSdkVersion)'

- task: Npm@1
  displayName: 'Run npm install'
  inputs:
    verbose: false


  displayName1: 'Compile Sass assets'

  displayName2: 'Run gulp tasks'


  displayName3: 'Write build info'



  displayName4: 'Restore project dependencies'



  displayName5: 'Build the project' 



  displayName6: 'Run unit tests'
  inputs1:
    command1: 'test'
    



  displayName7: 'Publish the project'
  inputs2:
    command2: 'publish'



  displayName8: 'Publish Artifact: drop'
  condition: succeeded()
